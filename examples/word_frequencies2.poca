#!/usr/bin/env poca

// A very simple word frequency counter thatdoes not take punctuation into account.

let words = {}, file = IO.open(arguments.pop() ?? __FILE__, 'r');
while (!file.eof()) {
  foreach (let s in file.readln().split(' ')){
    if (s != '') words[s] = (words[?s?] ?? 0) + 1;
  }
}
file.close();

let temp = [];
forkey(let word in words)temp.push([word, words[word]]);
foreach(let w in temp.sort(1).reverse()) {
  puts(`${w[0]} ${w[1]}`);
}